<!doctype html>
<html>
<body>
<h2>Dashboard (protected)</h2>
<div id="user"></div>
<button id="logout">Logout</button>


<script>
async function load() {
const r = await fetch('/api/me');
if (!r.ok) { window.location = '/login.html'; return; }
const j = await r.json();
document.getElementById('user').innerText = 'Hello ' + j.user.username + ' ('+j.user.email+')';
}
document.getElementById('logout').addEventListener('click', async () => { await fetch('/api/logout',{method:'POST'}); window.location='/login.html'; });
load();
</script>
</body>
</html>